{% extends 'base.html' %}

{% block content %}
    <div class="container mx-auto py-10">
        <h1 class="text-3xl font-bold text-center mb-6">Talent Pool</h1>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for profile in profiles %}
            <div class="bg-white shadow-lg rounded-lg p-6 flex flex-col items-center">
                <!-- Profile Image -->
                <img src="{{ profile.image.url }}" alt="Profile Image" class="w-24 h-24 rounded-full mb-4 object-cover">
                
                <h2 class="text-xl font-semibold">{{ profile.user.username }}</h2>
                <p class="text-gray-500">{{ profile.position.position_name|default:"No Position" }}</p>

                <!-- Statistics -->
                <div class="w-full mt-4">
                    <p><strong>Total Skills:</strong> {{ profile.skills.count }}</p>
                    <p><strong>Total Certifications:</strong> {{ profile.certifications.count }}</p>
                    <p><strong>Total Trainings:</strong> {{ profile.trainings.count }}</p>
                    <p><strong>Experience Years:</strong> {{ profile.experience_years }}</p>
                    <p><strong>Avg. Rating:</strong> {{ profile.avg_rating|default:"N/A" }}</p>
                    <p><strong>Avg. Performance:</strong> {{ profile.avg_performance|default:"N/A" }}%</p>
                    <p><strong>Avg. Score:</strong> {{ profile.avg_score|default:"N/A" }}</p>
                </div>
                
                <!-- Button -->
                <a href="{% url 'main:emp_details' profile.user.id %}" class="mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">
                    View Details
                </a>
            </div>
            {% endfor %}
        </div>
    </div>


{% endblock %}
